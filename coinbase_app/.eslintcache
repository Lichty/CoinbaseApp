[{"C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\index.js":"1","C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\App.js":"2","C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\reportWebVitals.js":"3","C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\components\\Canvas.js":"4","C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\components\\Search.js":"5","C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\components\\Products.js":"6"},{"size":500,"mtime":499162500000,"results":"7","hashOfConfig":"8"},{"size":1910,"mtime":1612629553562,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":499162500000,"results":"10","hashOfConfig":"8"},{"size":3425,"mtime":1612576415441,"results":"11","hashOfConfig":"8"},{"size":316,"mtime":1612586222696,"results":"12","hashOfConfig":"8"},{"size":779,"mtime":1612630610628,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"wip1jd",{"filePath":"17","messages":"18","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\index.js",[],["28","29"],"C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\App.js",["30","31","32","33","34","35"],"C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\reportWebVitals.js",[],"C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\components\\Canvas.js",["36"],"import React, { useEffect, useRef, useState } from 'react'\r\n\r\nfunction Canvas({width, height, publicClient}) {\r\n\r\n    //TODO: layer canvases\r\n        // Grid\r\n        // Axes\r\n        // Legends\r\n        // Crosshair + time and value\r\n\r\n\r\n    const canvasRef = useRef(null);\r\n    const [init, setInit] = useState(true);\r\n\r\n    // Set actual size in memory (scaled to account for extra pixel density).\r\n    const scale = window.devicePixelRatio; // Change to 1 on retina screens to see blurry canvas.\r\n    const margin = 20;\r\n\r\n    function draw(ctx, book, high, low) {\r\n        // Normalize coordinate system to use css pixels.\r\n        ctx.fillStyle = \"#646464\";\r\n        ctx.fillRect(0, 0, width, height);\r\n\r\n\r\n        // ctx.fillStyle = \"#000\";\r\n        // ctx.font = '18px Arial';\r\n        // ctx.textAlign = 'center';\r\n        // ctx.textBaseline = 'middle';\r\n        // ctx.fillText('high: ' + high, width/2, height/2 - 10);\r\n        // ctx.fillText('low: ' + low, width/2, height/2 + 10);\r\n        // ctx.fillText('length: ' + book.length, width/2, height/2 + 30);\r\n\r\n\r\n        // Draw graph frame        \r\n        ctx.fillStyle = '#000';\r\n        ctx.beginPath();    \r\n        ctx.moveTo(margin, height - margin*2);\r\n        ctx.lineTo(width - margin, height - margin*2);\r\n        ctx.moveTo(margin*2, margin);\r\n        ctx.lineTo(margin*2, height - margin);\r\n        ctx.stroke();  \r\n\r\n        var zero = height - margin*2;\r\n        var start = margin*2;\r\n        var graphScale = (height-margin*3)/(high-low)\r\n\r\n        console.log(book[1][1])\r\n\r\n        ctx.fillStyle = '#000';\r\n        ctx.moveTo(start, zero);\r\n        for (var i = 0; i < book.length; i++) {\r\n            ctx.lineTo(margin*2 + i, zero - (book[i][1] - low)*graphScale/15);\r\n            // console.log(i + ': ' + (book[i][1] - low)*graphScale);\r\n            // console.log(i + ': ' + (book[i][1] - low)/graphScale);\r\n        }\r\n        ctx.stroke();\r\n    }\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const context = canvas.getContext('2d');\r\n        if (init) {\r\n            context.scale(scale, scale);\r\n            setInit(false);//\r\n        }\r\n\r\n        var APILoop;\r\n\r\n        const render = () => {\r\n            // i++;\r\n            console.log('got here')\r\n            publicClient.getProductHistoricRates(\r\n                'BTC-USD', //TODO: get this from a dropdown\r\n                {granularity: 300 }, //TODO: get this from a dropdown //This is vertical granularity\r\n                (error, response, book) => { //TODO: add error handling\r\n                    console.log('and here')\r\n                    var length = book.length;\r\n                    var low = book[0][1];\r\n                    var high = book[0][2];\r\n                    for (var i = 0; i < length; i++) {\r\n                        if (book[i][1] < low) low = book[i][1];\r\n                        if (book[i][2] < high) high = book[i][2];\r\n                    }\r\n                    draw(context, book, high, low);\r\n                }\r\n            )\r\n        }\r\n        render();\r\n        APILoop = setInterval(render, 4000);\r\n\r\n        return () => {\r\n            clearInterval(APILoop);\r\n        }\r\n    }, [draw,publicClient]);\r\n\r\n    return (\r\n        <canvas width={width*scale} height={height*scale} style={{height:height+'px', width:width+'px', border:'1px solid red'}} ref={canvasRef}></canvas>\r\n    )\r\n}\r\n\r\nexport default Canvas;","C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\components\\Search.js",[],"C:\\Users\\mrlic\\Documents\\Code repo\\CoinbaseApp\\coinbase_app\\src\\components\\Products.js",[],{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":3,"column":8,"nodeType":"43","messageId":"44","endLine":3,"endColumn":14},{"ruleId":"41","severity":1,"message":"45","line":11,"column":10,"nodeType":"43","messageId":"44","endLine":11,"endColumn":14},{"ruleId":"41","severity":1,"message":"46","line":11,"column":16,"nodeType":"43","messageId":"44","endLine":11,"endColumn":23},{"ruleId":"41","severity":1,"message":"47","line":13,"column":10,"nodeType":"43","messageId":"44","endLine":13,"endColumn":20},{"ruleId":"41","severity":1,"message":"48","line":29,"column":13,"nodeType":"43","messageId":"44","endLine":29,"endColumn":16},{"ruleId":"49","severity":1,"message":"50","line":42,"column":5,"nodeType":"51","endLine":42,"endColumn":7,"suggestions":"52"},{"ruleId":"49","severity":1,"message":"53","line":94,"column":8,"nodeType":"51","endLine":94,"endColumn":27,"suggestions":"54"},"no-native-reassign",["55"],"no-negated-in-lhs",["56"],"no-unused-vars","'Canvas' is defined but never used.","Identifier","unusedVar","'init' is assigned a value but never used.","'setInit' is assigned a value but never used.","'currencies' is assigned a value but never used.","'key' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'publicClient'. Either include it or remove the dependency array.","ArrayExpression",["57"],"React Hook useEffect has missing dependencies: 'init' and 'scale'. Either include them or remove the dependency array.",["58"],"no-global-assign","no-unsafe-negation",{"desc":"59","fix":"60"},{"desc":"61","fix":"62"},"Update the dependencies array to be: [publicClient]",{"range":"63","text":"64"},"Update the dependencies array to be: [draw, init, publicClient, scale]",{"range":"65","text":"66"},[1594,1596],"[publicClient]",[3196,3215],"[draw, init, publicClient, scale]"]